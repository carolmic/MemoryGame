<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<link rel="stylesheet" href="/css/styles.css" />
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap"
			rel="stylesheet"
		/>
		<title>Memory Game</title>
	</head>
	<body>
		<section class="container">
			<div class="register-player" id="register">
				<div class="form-group">
					<input
						type="text"
						class="form-input"
						id="name"
						placeholder="Your name"
						required
					/>
					<button class="btn" id="start-btn">Join</button>
				</div>
				<h3 class="current-player" id="current-player" hidden="true">
					Current player:
				</h3>
				<br />
				<p class="current-player-name" id="current-player"></p>
				<div id="players-box">
					<h3>Players online:</h3>
					<br />
					<table id="players-table"></table>
				</div>
				<button class="btn" id="start-game">Start game</button>
			</div>
			<section class="memory-game">
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>

				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
				<div class="memory-card">
					<img class="front-face" />
					<img class="back-face" src="/img/olympics.svg" alt="Olympics" />
				</div>
			</section>
		</section>

		<script src="/socket.io/socket.io.js"></script>
		<script src="/js/index.js"></script>
		<script>
			let currentPlayer;
			let currentPlayerPoints = 0;
			document.getElementById("start-btn").addEventListener("click", () => {
				const name = document.getElementById("name").value;
				document.getElementById("name").disabled = true;
				document.getElementById("start-btn").hidden = true;
				document.getElementById("current-player").hidden = false;
				currentPlayer = { name, points: 0 };
				document.getElementById(
					"players-table"
				).innerHTML += `<tr class="player-info"><td class="player-name">${currentPlayer.name}: </td><td class="player-points">${currentPlayer.points}</td></tr>`;
				document.getElementById(
					"current-player"
				).innerHTML = `<p>${currentPlayer.name}</p>`;
				socket.emit("join", currentPlayer);
				socket.emit("set current player", currentPlayer);
				socket.on("current player set", (data) => {
					document.getElementById(
						"current-player"
					).innerHTML = `<p>${data.name}</p>`;
				});
			});
			document.getElementById("start-game").addEventListener("click", () => {
				document.getElementById("start-game").hidden = true;
				socket.emit("start game", []);
			});
		</script>
	</body>
</html>
